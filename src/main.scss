@charset "UTF-8";

/*!
 * Fresh v2.0.0
 * By AoPS user NeoMathematicalKid
 * Somewhat based on the Silesia theme for Automattic blogs
 * Written in SASS (SCSS syntax)

 * Credit is due where credit is due, especially to:
 * PythonNut, Binomial-theorem, El_Ectric, Red, Tungsten, and all who made a CSS for AoPS
 * And yes, you can edit this theme, just as long as it still looks good. ;)

 * Licensed under GNU GPL v2.0 or later:
 * https://gnu.org/licenses/gpl-2.0.html

 * Copyleft 2014 NeoMathematicalKid
 */

/* --STATS--
 * 1474L (Unix), 30895C 
 */

// TODO:
// 1. extend pagination to shouts !in the works

//-- Custom fonts --//

@import url(http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic);


//-- Modules --//

@import "global/_variables";
@import "global/_mixins";


//-- Hacks --//

@import "extras/_hacks";


/*-- Placeholders --*/

@import "global/_placeholders";


/* TESTBED FOR MIXINS */

#test {
	@include pre((box-sizing: padding-box));
	@include move(5px, 3em);
	@include dimensions(10px);
	@include content("!", sticky, 1337px);
	@include WebKitCalc(padding, 2.5px, 2px);
	@include linear-gradient(45deg, (0: white, 100: black), grey no-repeat 20px #{10px}/#{30px} 40px);
	@include radial-gradient(circle, 16px, 40px 10px, (0: white, 10: black, 20: red, 30: gold, 40: rgba(100, 0, 0, .2), 50: #ffedcb, 60: rgba(0, 0, 10, 1), 100: blue));
	color: black;
	@include radial-gradient(ellipse, closest-side, center, (0: white, 100: black));
}

//-- Reset --//

fieldset, textarea, select, a, input, #wrapper, #header, #blog-errors {
	@extend %borderless;
	outline: none;
}
*:not(#content) > .clear, input[value="Search"], .widget:not([id]) a, .entry h2 img, .author img, .post-comment[href=""], .deleted, #smiley-box a[href="#"], #main > p:not([id]), [alt="+"], [alt="-"], .total-posts .page-sep, #post-new-entry-img {
	@extend %none;
}

/*-- Selection and WebKit scrollbars --*/

*::-moz-selection {
	background: rgba(130, 211, 214, .44);
	color: black !important;
}
*::selection {
	background: rgba(130, 211, 214, .44);
	color: black !important;
}

*::-webkit-scrollbar {
	@include dimensions(10px);
	background: $t;
}
*::-webkit-scrollbar-thumb {
	background: rgba(200, 200, 200, .3);
	padding: 2px;
	border-radius: 6px;
	box-shadow: 0 0 1px rgba(0, 0, 0, .2) inset;
	&:hover {
		background: rgba(200, 200, 200, .6);
	}
}
*::-webkit-scrollbar-button {
	max-height: 1px; max-width: 1px;
}
*::-webkit-scrollbar-corner {
	display: none;
}

/*-- General --*/

html {
	background-color: $sidebg;
}
body {
	/* force sass to output @charset */
	var-charset: "รถ";
	min-height: 400px;
	background: $bg;
	font: normal 8pt/1.2em $helvetica;
	padding-bottom: 40px;
	overflow-x: hidden;

	-webkit-font-smoothing: antialiased; // nicer antialiasing for WebKit on OSX
	-moz-osx-font-smoothing: grayscale;  // same for Firefox

	text-rendering: OptimizeLegibility;  // optimize legibility of text

	&::-webkit-scrollbar {
		@include dimensions(13px);
	}
	&::-webkit-scrollbar-thumb {
		border: 2px solid $bg;
	}
}

h2 {
	color: $fg;
}
img:not([src*="smilies"]):not([class^="latex"]):not([alt="Feed"]):hover {
	background: url("data:image/png;UTF-8;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH3gMJCy8HXmWgigAAAC5JREFUOMtj/P//fwMDccCIGEVMDFQGowaOGjgYDGQhNgcwMDCcGw3DUQNHrIEA0WgE2XBobBkAAAAASUVORK5CYII=") repeat;
}
a:link, a:visited {
	color: $link;
}
a:hover {
	color: $hover;
	text-decoration: underline;
}
input {
	-webkit-tap-highlight-color: $t; // stop WebKit from applying distracting tap outline
}
// #side
[type="text"], textarea {
	/* $textarea defined in _variables.scss */
	background: $textarea;
	color: rgb(54, 54, 54);
	&:hover {
		background: darken($textarea, 1%);
	}
	&:focus {
		background: darken($textarea, 2%);
	}
	#main & {
		/* $main_textarea defined in _variables.scss */
		background: $main_textarea;
		color: $fg;
		font: 13px/1.9em 'Open Sans', sans-serif;
		padding: 5px;
		box-shadow: 0 0 1px rgba(0, 0, 0, .1);
		&:hover {
			background: darken($main_textarea, 1%);
		}
		&:focus {
			background: darken($main_textarea, 2%);
		}
	}
}

/*-- Nav-bar --*/

#navigation_box {
	@extend %noselect;
	position: absolute;
	@include move(116px, 100px);
	width: 88%;
	background: $bg;
	color: $t;
	padding: 2px 10px 22px;
	border-bottom: 2px solid rgb(248, 248, 249);
	overflow-x: auto;
	a {
		color: $link;
		font-size: 15px;
		text-transform: uppercase;
		margin-right: 8px;
		&:hover {
			color: $hover;
		}
	}
}
#right_navigation_box {
	float: left;
}
#left_navigation_box a:last-child {
	padding-right: 10px;
}

/*-- Header --*/

#header {
	@include dimensions(100%, 90px);
	background: rgb(245, 245, 245);
	overflow: hidden;
	h1 {
		position: relative;
		left: 100px;
		width: calc(100% - 100px); // allow scrolling
		font: 25pt/2em 'Times New Roman', times, serif;
		text-align: left !important;
		padding-bottom: 24px;
		overflow: hidden;
		&:after {
			@include content("Welcome to my blog!", absolute, 55px, 0);
			color: rgb(175, 175, 175);
			font: 500 11px/1.5em $helvetica;
		}
		&::-webkit-scrollbar, &::-webkit-scrollbar-thumb {
			height: 6px;
			box-shadow: none;
		}
	}
	&:hover h1 {
		@include WebKitCalc(padding-bottom, 10px, 16px); // WebKit scrollbar
		overflow-x: auto;
	}
}

/*-- Main content --*/

#wrapper {
	width: 100%;
	background: none;
	margin-left: 0;
}
#main {
	position: relative;
	@include move(70px !important, 100px);
	width: 80%;
	& > * {
		background: $bg;
	}
	& > h1 {
		margin-bottom: 36px;
	}
}

/*-- Post new entry --*/

#post-new-entry {
	&:link, &:visited {
		color: $fg !important;
		font-size: 12px;
	}
	&:hover {
		text-decoration: none;
	}
	&:before {
		content: '+';
		padding: 3px 7px;
		border: 1px solid; // default colour is black
		border-radius: 15px;
		margin-right: 5px;
	}
}
#post-new-entry-p {
	margin: 0 auto 1.6em;
}

/*--Entries & Comments --*/

div.entry {
	padding-bottom: 40px;
	@extend %borderless;
}
.entry {
	h1 a:link, h1 a:visited, h2 a:link, h2 a:visited {
		color: $fg;
		line-height: 1.5em;

		// no @include due to multiple statements
		-webkit-transition: color .4s ease-in-out, -webkit-transform .24s ease;
		-o-transition: color .4s ease-in-out, -o-transition .24s ease;
		transition: color .4s ease-in-out, transform .24s ease;
	}
	h1 a:hover, h2 a:hover {
		text-decoration: none;
	}
	h1 a:hover {
		color: $hover;
	}
	strong {
		& > a:link, & > a:visited {
			display: inline-block;
			color: rgb(60, 60, 60);
			font: normal 1em/1 $mss;
			@include pre((transform: skew(-10deg)));
		}
		& > a:hover {
			color: $fg;
			@include pre((transform: skew(0deg)));
		}
	}
	& > h2 {
		margin-top: .3em;
		& > a:before {
			@include content("> ",relative, "1px; top: -moz-calc(-1px)", 5px); // Little Bobby Tables
			line-height: 1em;
			padding-right: 5px;
			font-weight: bold;
		}
	}
}
div.entrywrap {
	@extend %borderless;
	background: $t;
}
.message {
	font: 13px/2em 'Open Sans', $mss;
	img {
		max-width: 100%;
	}
	& ~ * a:link, & ~ * a:visited {
		text-decoration: none;
	}
}
.efooter {
	position: relative;
	top: 5px;
}

div.comment {
	@extend %borderless;
	margin-top: 0;
	margin-bottom: 20px;
}
.row1, .row2 {
	background: $t;
}
.author {
	font-size: 11px;
	& > a:before {
		@include content('>', relative, -1px, 0px);
		color: $fg;
		font-weight: bold !important;
		font-size: inherit;
		margin-right: 4px;
	}
	& > strong > a:link, & > strong > a:visited {
		color: $fg;
		font-style: italic !important;
		font-weight: normal !important;
	}
	& > strong > a:hover {
		font-style: normal !important;
	}
}

/*-- Icons --*/

// $icons defined in _variables.scss
.modactions {
	:before, :after {
		@extend %pseudo;
	}
	%standard {
		/* %standard */
		@extend %noselect;
		color: $t;
		font-size: 1px;
		position: relative;
	}
	%pseudo-standard {
		/* %pseudo-standard */
		background: $icons;
		@include pre((transition: .2s ease));
	}
	%pseudo-cover {
		/* %pseudo-cover */
		@include dimensions(20px);
		background: $t;
	}
	a[title="Edit post"] {
		@extend %standard;
		&:after, :before, :after {
			@extend %pseudo-standard;
		}
		&:after {
			@include move(-14px);
			@extend %pseudo-cover;
		}
		:before {
			@extend %rte45;
			@include move(-12px, -5px);
			@include dimensions(5px, 14px);
			border-bottom: 1px solid $bg;
			z-index: 1;
		}
		:after {
			@include move(-1px, -10px);
			@include dimensions(4px);
			@include pre((transform: skew(-10deg, -10deg)));
		}
		&:hover {
			:before, :after {
				background: lighten($link, 10%);
			}
		}
	}
	a[title="Delete post"] {
		@extend %standard;
		&:after, :before, :after {
			@extend %pseudo-standard;
		}
		&:after {
			@include move(-14px, -7px);
			@extend %pseudo-cover;
		}
		:before {
			@extend %rte45;
			@include dimensions(4px, 13px);
			@include move(-10px, 0.5px);
		}
		:after {
			@include dimensions(11px);
			@include move(-11px, -5px);
			background: $t;
			border: 2px solid $icons;
			border-radius: 50px;
		}
		&:hover {
			:before {
				background: rgb(200, 0, 0);
			}
			:after {
				border-color: rgb(200, 0, 0);
			}
		}
	}
	a[title="Report this post"] {
		@extend %standard;
		&:after, :before, :after {
			@extend %pseudo-standard;
		}
		&:after {
			@include move(-14px, -1px);
			@extend %pseudo-cover;
		}
		:before {
			content: "!";
			@include move(-11px, 7px);
			background: $t;
			color: $bg;
			font-size: 12px;
			font-weight: bold;
			z-index: 1;
		}
		:after {
			@include move(-15px, 0);
			@include dimensions(0);
			background: $t;
			border: {
				width: 0 9px 18px;
				color: $icons $t;
				style: solid;
			}
		}
		&:hover {
			:after {
				border-color: goldenrod $t;
			}
		}
	}
}
/* While strictly not icons, tags are still included because of their passing resemblance */
.post-tags {
	color: $t;
	font-size: 0.01px;
	margin: 15px 0 10px !important;
	a {
		color: rgb(119, 119, 119);
		font-size: 8pt;
		background: rgb(230, 230, 230);
		padding: 2px 5px 2px 0;
		margin-right: 5px;
		&:before {
			content: "#";
			background: rgb(225, 225, 225); // \\?: need to remove?
			padding: 2px 3px;
			margin-right: 3px;
		}
		&:hover {
			color: rgb(102, 102, 102);
			background: rgb(225, 225, 225);

			&:before {
				background: rgb(205, 205, 205);
			}
		}
	}
}

/*-- Hidden Text --*/

.hidden-label {
	color: lighten($link, 18%);
	text-decoration: none;
	&:hover {
		color: lighten($hover, 9%);
		text-decoration: underline;
	}
}

/*-- Quotes & Code --*/

div.quotetitle, div.quotecontent {
	@extend %borderless;
	background: rgb(243, 243, 240);
	padding: 10px;
	border-left: 5px solid $sidebg;
}
.codetitle {
	@extend %none;
}
.codecontent {
	max-height: 27em !important;
	font: 12px/2em Consolas, monospace, sans-serif;
	padding: 10px;
	border: 1px solid rgb(219, 219, 206);
	overflow: auto;
	white-space: pre;
	a:hover {
		text-decoration: none;
	}
	& > div > ol {
		height: auto;
		max-height: 24em;
		padding: 10px 40px;
		margin: -10px;
		overflow: auto;
	}
	& > div:after {
		content: attr(class);
		display: block;
		background: rgb(235, 235, 235);
		color: rgb(128, 128, 128);
		font: 12px/2em $helvetica !important;
		text-transform: uppercase;
		padding: 6px 0 3px 10px;
		margin: 10px -10px -10px;
	}
	&:hover > div:after {
		background: rgb(225, 225, 225);
	}

	/* special code types */
	& > .csharp:after  { content: 'C#';}
	& > .cpp:after  { content: 'C++';}
	& > .objc:after  { content: 'Objective-C';}
}

/*-- Sidebar --*/

#side {
	position: fixed;
	@include move(0, -340px);
	height: 100%;
	background: $sidebg;
	color: $sidefg;
	font: 12px/2em $helvetica;
	padding-left: 38px;
	padding-right: 50px;
	box-shadow: 0 0 5px $sidebg;
	z-index: 100;
	@include pre((transition: .5s ease));
	&:after {
		@include content('+', fixed, 0, 0);
		display: block;
		height: 100%;
		background: $sidebg;
		color: rgb(245, 245, 255);
		font: 21pt 'Open Sans', Helvetica, sans-serif;
		padding: 20px 12px 17px;
		@include pre((transition-delay: .35s));
	}
	&:before {
		@include content('', fixed, 31px, 39px);
		display: block;
		border: {
			width: 9px 0 9px 9px;
			color: $t $sidebg;
			style: solid;
		}
		pointer-events: none;
	}
	&:hover {
		left: 0;
		&:after {
			color: $t;
			@include pre((transition-delay: 0s));
		}
		&:before {
			@extend %none;
		}
	}

	a:link, a:visited {
		color: rgb(216, 241, 250);
		@include pre((transition: .2s ease-in-out));
	}
	a:hover {
		color: rgb(207, 242, 255);
		text: {
			decoration: none;
			shadow: 0 0 3px $sidefg;
		}
		@include hardwareAccel(); // GPU-accelerate text shadows
	}
	.quotetitle, .quotecontent, .codecontent {
		background: $sidefg;
		color: rgb(50, 50, 50);
		width: 300px;
	}
	.quotetitle, .quotecontent {
		border-left-color: rgb(255, 187, 25);
	}
	.codetitle, .codecontent {
		text-align: left !important;
	}
	img.latex, img.latexcenter {
		background: rgba(255, 255, 255, .5) !important;
		padding: 1px .4999px; // so low screen resolutions won't have an ugly 1px of padding
	}
}

/*-- Widgets --*/

.widget, .block {
	padding: 1.5em !important;
	margin: 0 !important;
}
.widget-title {
	@extend %noselect;
	color: $sidefg;
	border-bottom: 2px solid rgb(155, 202, 218);
	overflow: hidden;
}
.widget {
	& > .widget-content {
		position: fixed;
		left: 280px;
		width: 340px;
		min-height: 50px;
		max-height: 250px;
		@extend %none;
		background: $sidebg;
		padding: 10px 0 5px 0;
		border-left: 70px solid $t;
		box-shadow: 0 0 5px $sidebg;
		overflow-x: hidden;
		resize: both;
		border-radius: 1px;
		@include pre((transition: opacity .3s ease-in-out));
	}
	&:hover {
		& > .widget-header > .widget-title {
			color: darken($sidebg, 11%);
			border-bottom: none;
		}
		& > .widget-header {
			background: rgb(155, 202, 218);
			padding: 5px;
			cursor: default;
			border-radius: 10px;
		}
		& > .widget-content {
			display: block;
		}
	}
	@for $i from 2 through 9 {
		&:nth-of-type(#{$i}) > .widget-content {
			top: 65px * $i - 55px;
		}
	}
}

/*-- Description --*/

#user-menu-widget {
	a:link, a:visited, a:hover {
		color: $sidefg !important;
	}
	&:before {
		content: 'Description';
		color: $sidefg;
		font-weight: bold !important;
		font-size: 13px;
		padding-right: 144px;
		padding-bottom: 5px;
		border-bottom: 2px solid rgb(155, 202, 218);
		cursor: default;
	}
	& > div {
		@extend %none;
	}
	&:hover {
		&:before {
			background: rgb(155, 202, 218);
			color: darken($sidebg, 11%);
			padding: 10px 139px 10px 5px;
			border-radius: 10px;
		}
		& > div {
			position: fixed;
			@include move(9px, 280px);
			width: 340px;
			max-height: 90vh;
			display: block;
			background: $sidebg;
			padding: 0 7px 10px 13px;
			border-left: 50px solid $t;
			box-shadow: 0 0 5px $sidebg;
			overflow-x: hidden;
		}
	}
}

/*-- Archives --*/

#archive-widget > .widget-content {
	@extend %block-widget;
	& > div {
		display: block !important;
		max-height: 0px;
		margin: 20px 0 -10px;
		overflow: hidden;
		@include pre((transition: max-height .5s ease-in-out));
	}
	& > div[style="display: block;"], & > div:not([style]) {
		max-height: 250em;
	}
	& > span {
		position: absolute;
	}
}
.archive-row {
	border-bottom: 1px dashed $sidefg;
	padding: 5px;
	width: 90%;
	&:last-child {
		border-bottom: none;
	}
}

/*-- SHOUT! SHOUT! SHOUT! --*/

#shouts-widget > .widget-content {
	@extend %block-widget;
}
li.row1, li.row2 {
	width: 300px;
	padding-top: 2px;
	overflow-x: auto;
}
#shout_post {
	& > .fields1 {
		padding-top: 10px;
	}
	& > fieldset {
		&[style="text-align:center"] {
			@extend .fields1;
			padding-bottom: 20px;
		}
		& > ul {
			@extend .fields1;
			margin-top: -12px;
		}
	}
	#message {
		max-width: 284px;
		margin-top: 0 !important;
	}
	.quotecontent, .quotetitle, .codecontent {
		width: auto;
	}
}
.shout_footer::before {
	content: '> ';
	font-weight: bold;
	margin-right: 5px;
}
input[name="shouts_ids[]"] {
	margin-left: -2px;
}
#explain:not(:empty) {
	width: 290px;
	background: rgb(200, 200, 200);
	color: rgb(50, 50, 50);
	padding: 2px;
	margin: -2px 0 6px;
	//@include pre(transition, .3s ease-in-out .1s); //credit to PythonNut
}

/*-- Search --*/

.widget:not([id]) {
	@extend %inline-widget;
	#blog_keywords {
		padding: 5px;
		margin-left: -6px;
		margin-bottom: 5px;
	}
}

/*-- Total-posts --*/

/* borrowed from libre 
 * TODO: understand code,
 *       figure out what the fuck is wrong with this code and why doesn't SASS parse it right,
 *       make less verbose
 */

/*#shout_post > * > div[style] {
	@at-root {
		.total-posts {
			@extend %noselect;
			\/\* force alignment with main \*\/
			margin-right: 1em;
		}
		&, .total-posts {
			color: $t;
			font-size: 0.8em;
			& a {
				%pagination-common {
					position: relative;
					display: inline-block;
					@include dimensions(1.5em);
					color: $t;
					line-height: 1.5em;
					text-align: center;
					background: #ddd;
					border-radius: 99px;
					@include pre((transition: 0.3s ease-in-out));
					&:after {
						%pagination-ghost {
							@include content("", absolute, -2px, -3px);
							right: -3px;
							display: block;
							height: 100%;
							border: solid $t;
							border-width: 2px 0 2px 0;
							@include pre((transition: 0.3s ease-in-out));
						}
					}
				}
				&:last-child {
					&:after {
						left: -100%;
					}
/*					&:before {
						content: ">";
						position: absolute;
						left: -100%;
						display: block;
						color: $fg;
						@include dimensions(100%);
						margin-left: -1px;
					}\*\/
				}
			}
			&:hover a {
				background: $t;
				color: $fg;
			}
		}
		&, .page-number + span {
			strong {
				@extend %pagination-common;
				background: #aaa;
				color: #555;
				&:after {
					@extend %pagination-ghost;
				}
			}
		}
		.total-posts:hover .page-number + span, &:hover {
			strong {
				color: $fg;
				border-radius: 0;
				background: #eee;
				&:after {
					border-color: $fg;
				}
			}
		}
		.total-posts:hover, &:hover {
			a:after {
				border-color: grey;
			}
		}
	}
}
/*-- end pag --*/

// TODO: wait for PythonNut's pagination module
//       then adapt for own needs

%pagination {
/* %pagination */
	& {
		color: rgb(192, 192, 192);
		float: left;
		margin-left: -7px;
		& > a, & > strong {
			display: inline-block;
			max-width: 11px;
			background: rgb(225, 225, 226);
			color: $t;
			font-size: 75%;
			line-height: 1.4em;
			padding: 0 3.5px;
			border-radius: 50px;
			margin: 0 5px;
			@include pre((box-sizing: border-box, transition: .3s ease-in-out));
		}
		& > strong:first-of-type {
			background: rgb(204, 204, 205);
		}
		& > .page-sep {
			@extend %none;
		}
	}
}
%pagination-hover {
	/* %pagination-hover */
	& {
		& > a, & > strong {
			max-width: none;
			color: lighten($fg, 50%);
			margin: 0 6px;
			text: {
				decoration: none;
				@include WebKitCalc(indent, -.5px, -1px); // dammit WebKit
			}
			@include pre((transform: scale(1.4)));
			&:hover {
				@include WebKitCalc(text-indent, -1.5px, -2px);
				@include pre((transform: scale(1.7)));
			}
		}
	}
}

.total-posts {
	position: relative;
	@include move(-40px, 20px);
	color: $t;
	background-color: $t;
	padding-bottom: 10px;
	margin-top: 15px;
	& > span:not([class]) {
		@extend %pagination;
	}
	&:hover > span:not([class]) {
		@extend %pagination-hover;
		& > a:hover, & > strong:hover {
			padding-left: 5px;
		}
	}
}
#shout_post > fieldset > div[style="text-align:center;"] {
	@extend %pagination;
	& > a, & > strong {
		width: 16px;
		text-indent: 0px;
		padding: 0 6.5px;
	}
	&:hover {
		@extend %pagination-hover;
		& > a, & > strong {
			@include pre((transform: scale(1.2)));
			text-indent: -3px;
			&:hover {
				@include pre((transform: scale(1.5)));
				@include WebKitCalc(text-indent, -2.5px, -3px);
				padding: 0 6.5px;
			}
		}
	}
}

/*--Sticky footer conquered --*/

// html background already defined
#main > div:not(.total-posts):last-of-type, #postform {
	margin-bottom: 35px;
}

/*-- Post entry/comment form --*/
// needs to be sexier

#smiley-box, #smiley-box a, #main > form > .fields1 {
	color: $t;
}
#smiley-box {
	// needs spicing up
	margin-top: 10px;
	line-height: 1.4em;
	strong {
		color: $fg;
	}
	a:nth-last-of-type(2) {
		position: relative;
		top: -5px;
		background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAB3RJTUUH3QkWCzk3oHoINwAAAYxJREFUOMulkzGS02AMhb/nZJihitmhtkI8qfERwgnwEXKELekIFUNFjmC6dLjcDnODzQEyu6KiYu1+d0SRBByTHWZAnZ6kX9J7+sXAzGw6gpKgPAmI+gFqd7/tw6O+k5utEvSZ4CmilthINIhWwTKR3l+kE911XTNsTJ5ZlWfW5mYLHrHcbJFn1uaZVcPAKs+snZsV/MXmZsWh0QpAZjYdoxuIVzv3Zu8z3bk3Q26O+H5KfbknXiR7wmJ7LBgFFUFtZukJWT18594QsR1BmRCUIarfZFMgTZ7A9FSEUzxERVCOBSlwfUzcffP03O5DXHAdUCbDxJnZ5WMEzswuh6slAW3AL/YVrGZmy3MHJvSR/cQcaxJErWDZm22tYN2X1MzScVBHxNfjJSpYIuo/ZASYZVZLek3Ep8MbJXB7Lxbu3vZlHHVd116kExGsn6fp1Y+u+37XdZtn6cQlQLQhNg/ijbu3c7MigivEhxv3+r9PWcOTBr0lYhui0kHegGK/s15CvNu5r84+8C/f+Scn37qt/TNLJgAAAABJRU5ErkJggg==') no-repeat 0px 0px/18px 18px $t !important;
		font-size: 18px;
	}
}	
.btnbbcode {
	background: $t;
	cursor: pointer;
}
[value=" i "], [value=" u "] {
	text-transform: uppercase;
}
.genmed.nowrap {
	float: right;
	&:before {
		content: 'Font size:';
		color: $fg;
		margin-right: -50px;
	}
}
.gensmall {
	height: 18px;
	background: $bg;
}
#tabs a {
	color: rgb(42, 42, 42);
	&:hover {
		color: rgb(70, 70, 70);
	}
}
#main {
	#message {
		margin-top: -4.9em;
		resize: vertical;
	}
}

/*-- Icons for tabs --*/

// $icons-tabz defined in _variables.scss
#tabs ul {
	li {
		position: relative;
		list-style-type: none;
		padding-left: 1em;
		margin-top: 1em;
	}
	:before, :after {
		@extend %pseudo;
	}
	%pseudo-standard-tabz {
		/* %pseudo-standard-tabz */
		@include move(0, -1.5em);
		background: $icons-tabz;
		pointer-events: none;
		-moz-appearance: none; // for reasons that will make you go "wtf?"
	}
	%pseudo-standard-border {
		/* %pseudo-standard-border */
		background: $bg;
		border: {
			style: solid;
			color: $icons-tabz;
		}
	}

	// no idea why, but for some reason really long strings won't be interpreted correctly //

	// if li is turned to &, resulting selector in @extends is:                            //
	//                                   #tabs ul li li                                    //
	// which has a duplicate li                                                            //

	/* options are :first-child */
	li:first-child {
		&:before, &:after {
			@extend %pseudo-standard-tabz;
			@extend %rte45;
		}
		&:before {
			left: -16px;
			@include dimensions(.4em, 1.3em);
			z-index: 1;
		}
		&:after {
			@extend %pseudo-standard-border;
			@include move(-.2em, -1.3em);
			@include dimensions(.3em, .9em);
			border-width: 0 .3em;
			border-radius: .6em;
		}
	}
	/* permissions are :nth-child(2), exist only on post entry */
	li:nth-child(2):not(:nth-last-child(2)) { // this is to make sure we're not affecting anything on the comment form
		&:before, &:after, a:before, a:after {
			@extend %pseudo-standard-tabz;
		}
		&:before {
			left: -2.1em;
			border-radius: 2em;
			@include dimensions(1em);
		}
		&:after {
			@include move(.3em, -1.2em);
			@include dimensions(.8em, .3em);
		}
		a:before {
			@extend %pseudo-standard-border;
			@include move(.4em, -1em);
			@include dimensions(.1em, .5em);
			border-width: 0 2px 0;
		}
		a:after {
			@include move(.4em, -1.87em);
			@include dimensions(.2em);
			background: $bg;
			border-radius: .4em;
		}
	}
	/* subscriptions are :nth-child(3) :nth-child(2) on comments */
	li:nth-child(3):not(:last-child),
	li:nth-child(2):nth-last-child(2) { // again, same deal, except subscriptions is in commenting form so it must also be included
		&:before, &:after {
			@extend %pseudo-standard-tabz;
		}
		&:before {
			@include move(.75em, -1.55em);
			@include dimensions(.45em);
			border-radius: .6em;
		}
		&:after {
			left: -1.6em;
			@include dimensions(.8em);
			background: $t;
			border: {
				width: .5em .5em 0 0;
				style: double;
				color: $icons-tabz $icons-tabz $t $t;
				radius: 0 1em 0 0;
			}
		}
	}
	/* attachments are :nth-child(4), :nth-child(3) (or :last-child if you prefer) on comments */
	li:nth-child(4),
	li:nth-child(3):last-child {
		&:before, &:after {
			@extend %pseudo-standard-tabz;
		}
		&:before {
			@extend %pseudo-standard-border;
			@include move(-.4em, -1.8em);
			border-width: 0 .8em .9em;
			border-color: $icons-tabz $t;
		}
		&:after {
			@include move(.2em, -1.25em);
			@include dimensions(.5em, 1em);
		}
	}
	/* tags are :last-child, exist only on post entry */
	li:last-child:not(:nth-child(3)) {
		&:before, &:after {
			@extend %pseudo-standard-tabz;
		}
		&:before {
			@extend %rte45;
			@include move(-.2em, -1.6em);
			@include dimensions(1em, 1.5em);
			border-radius: 1em 1em 0 0;
		}
		&:after {
			@include move(.2em, -1em);
			@include dimensions(.3em);
			background: $bg;
			border-radius: .5em; // why the f doesn't chrome parse this right?
		}
	}
}



/*-- Buttons --*/

[type="button"]:not(.btnbbcode), [type="submit"], [type="reset"] {
	@include linear-gradient((0: rgba(228, 228, 228, .97), 100: rgba(221, 221, 221, .97))); // direction and cover unit predefined in mixin
	padding: 5px !important;
	box-shadow: 0 0 1px rgba(0, 0, 0, .3) inset;
	cursor: pointer;
	&:hover {
		@include linear-gradient((0: rgba(228, 228, 228, .86), 100: rgba(221, 221, 221, .86)));
	}
	&:active {
		@include radial-gradient((0: rgba(213, 213, 213, .8), 60: rgba(201, 201, 201, .8), 100: rgba(190, 190, 190, .8)));
	}
}

/*-- Checkboxes and radio buttons --*/

%checkbefore {
	/* %checkbefore */
	content: '\2713';
	position: relative;
	background: rgb(206, 206, 206) !important;
	color: $t;
}
%checkcheckedbefore {
	/* %checkcheckedbefore */
	color: rgb(50, 50, 50);
}

#main [type="checkbox"], #main [type="radio"] {
	&:before {
		@extend %checkbefore;
		@include move(-3px);
	}
	&:checked:before {
		@extend %checkcheckedbefore;
	}
}
#main [type="checkbox"]::before {
	padding: 0 3px;
}
#main [type="radio"]::before {
	content: '\25CF';
	padding: 0 5px 2px;
	border-radius: 16px;
}
#side [type="checkbox"] {
	& + *:before {
		@extend %checkbefore;
		@include move(-2px, -20px);
		padding: 1px 4px;
		margin-right: -20px;
	}
	&:checked {
		outline: none; // prevent distracting outline
		+ *:before {
			@extend %checkcheckedbefore;
		}
	}
}

/*-- Errors --*/

#blog-errors {
	position: absolute;
	@include dimensions(100%, 4.3em);
	background: rgb(197, 0, 0);
	font: normal 1.6em/2em 'Open Sans', sans-serif;
	padding: 10px;
	margin: 0;
	& + #wrapper #header h1 {
		z-index: -2;
	}
}
.error {
	background: rgb(207, 0, 0);
	color: black;
	font: normal 1.4em/2.5em 'Open Sans', sans-serif;
	padding: 10px;
}

/*-- Misc. --*/

dd {
	font-style: italic;
	margin-left: 0;
}
hr {
	@extend %borderless;
	height: 1px;
	@include linear-gradient(right, (0: $bg, 50: rgb(187, 187, 187), 100: $bg));
}
#about-owner-widget > .widget-content, #stats-widget > .widget-content {
	padding-bottom: 15px;
}
#feed-widget {
	@extend %inline-widget;
}

/*-- @media queries --*/

/* Sets default viewport size for mobile browsers */

@-moz-viewport {width: device-width;}@-ms-viewport {width: device-width;}@-o-viewport {width: device-width;}@-webkit-viewport {width: device-width;}@viewport {width: device-width;}

/* The real stuff */

@media only screen and (max-width: 800px), only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (min-resolution: 132dpi), only screen and (min-resolution: 1.5dppx) {

	//-- Define --//

	@mixin moveright($a, $b) {
		top: #{$a};
		right: #{$b};
	}
	$mediabg: $link; // semantics, because we're using $link a lot here

	/*-- General --*/

	html, body, #main > * {
		background: rgb(254, 254, 255);
	}
	body {
		overflow-x: auto !important;
	}
	#wrapper {
		position: relative;
		top: 40px;
	}
	#main {
		@include move(25px !important, 25px);
		width: 98%;
		overflow: hidden !important;
	}
	#side {
		opacity: 0;
		visibility: hidden;
		-webkit-transition: 0s linear;
		transition: 0s linear;
		&:before, &:after {
			display: none;
		}
	}

	/*-- Nav-bar --*/

	#navigation_box {
		@include move(0);
		@include dimensions(100%, auto);
		background: $mediabg;
		line-height: 1.9em;
		padding: 10px;
		border: none;
		z-index: 100000;
		a:link, a:visited, a:hover {
			color: $sidefg;
		}
	}
	#left_navigation_box {
		a:nth-last-of-type(2):not([href*="apsjour.php"]) {
			display: block;
			margin-bottom: -15px !important;
		}
		a:last-of-type {
			display: none;
		}
	}
	#right_navigation_box {
		a {
			position: absolute;
			@include moveright(0, 20px);
			@include dimensions(35px);
			color: $t;
			background: $t;
			font-size: .01px;
			float: right;
		}
		a:before, a:after {
			content: '\00A0';
			position: absolute;
			@include pre((transform: rotate(45deg)));
		}
		a:before {
			@include moveright(8px, 4px);
			@include dimensions(4px, 11px);
			font-size: 8px;
			border: 5px solid $sidefg {
				width: 0 5px;
				radius: 10px;
			}
		}
		a:after {
			@include moveright(12px, 16px);
			width: 5px;
			font-size: 15px;
			background: $sidefg;
		}
	}

	/*-- Misc. --*/

	#header h1 {
		left: 33px;
		overflow-x: hidden;
	}
	[type="checkbox"]::before, [type="radio"]::before {
		left: -1px;
	}
	#blog-errors {
		display: none;
		& + #wrapper #header, & + #wrapper #header h1 {
			background: rgb(197, 0, 0);
			z-index: 1;
		}
	}
}

/*-- Shouts iff you rotate screen to landscape --*/

@media only screen and (max-width: 800px) and (orientation: landscape), only screen and (-webkit-min-device-pixel-ratio: 1.5) and (orientation: landscape), only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (min-resolution: 132dpi) and (orientation: landscape), only screen and (min-resolution: 1.5dppx) and (orientation: landscape) {
	#side {
		opacity: 1;
		visibility: visible;
		-webkit-transition: left .5s cubic-bezier(.1, .8, .2, .9), opacity .5s ease;
		transition: left .5s cubic-bezier(.1, .8, .2, .9), opacity .5s ease;
		&, &:hover {
			position: absolute;
			left: 100%;
			@include dimensions(0);
			background: none;
			box-shadow: none;
		}
		& > *:not(#shouts-widget) {
			display: none;
		}
	}
	#shouts-widget > .widget-content {
		position: absolute;
		@include move(-40px, 15px);
		display: block;
		width: auto;
		max-height: 10000000%;
		border: none;
		box-shadow: none;
		overflow: visible;
	}
	#shout_post {
		width: 343px;
		background: rgb(39, 139, 194);
		border-left: 40px solid $t;
	}
}

@media all and (max-width: 319px) {
	body {
		& > div {
			display: none;
		}
		&:before {
			@include content("Error: Your screen is way too small.\A\A\A Do Gangnam style to exit.", absolute, 40%, 0);
			width: 100%;
			color: $fg;
			font-size: 17px;
			white-space: pre;
			overflow: hidden;
		}
		&:first-line {
			font-size: 25px;
		}
	}
}

@media print {
	#navigation_box, #post-new-entry, #side, .modactions, .total-posts, addthis_button {
		display: none;
	}
	body {
		background: white;
		a:link, a:visited, a:hover, .hidden-label {
			color: black !important;
			text-decoration: none !important;
		}
	}
	#header h1 {
		@include move(10px, 0);
		width: 100%;
		text-align: center !important;
		padding-bottom: 40px;
		&:after {
			width: 100%;
			text-align: center;
		}
	}
	#main {
		@include move(25px !important, 0);
		width: 60%;
		margin: 0 20%;
	}
	.message a:not([class^="latex"])::after {
		content: " (@\00A0" attr(href) ")";
		font-size: 13px !important;
	}
	div.codecontent, div.codecontent > div > ol {
		max-height: none !important;
	}
}

@debug "Finished processing main.scss";
